### Virtual DOM

Virtual DOM 是 JSX 的基础

1.  广度优先分层比较

先从根节点开始比较;

节点跨层移动时, 只会把原来的节点删掉; 重新创建一个新的节点; 并不会调查这个节点是否在其他地方使用;

这样做并不会影响性能问题;它针对的是 UI 的特点, DOM 结构一般是相对稳定的;
一般是发生了位置移动, 要么是属性发生变化, 要么是被删掉或者创建;

将算法复杂度从 `O(n^3)` 降到了 `O(n)`;
是基于

- 组件的 DOM 相对稳定
- 类型相同的兄弟节点可以被唯一标识 key

如果没有 key 属性; 在节点位置发生变化时, 可能就不会做一些 DOM 节点位置交换的动作, 可能会做一些性能开销更大的事情, 将一个节点属性发生变化, 使得跟另外一个节点完全一样, 另一个节点也是如此; 所以需要 key 属性;
